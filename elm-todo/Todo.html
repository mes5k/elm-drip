<html>
  <head>
    <meta charset="utf-8"/>
    <title>Elm Todo MVC</title>
  </head>
  <body>
    <!-- We'll load elm.js, which will be produced for us by elm-make and will
         include our module as well as the elm runtime in general -->
    <script type="text/javascript" src="elm.js"></script>
    <script>
      var currentModel = localStorage.getItem("todo");
      var app = Elm.Main.fullscreen();
      window.app = app;

      app.ports.storageInput.send(JSON.parse(currentModel));

      app.ports.storage.subscribe(function(data){
        localStorage.setItem("todo", JSON.stringify(data));
      });

    </script>
  </body>
</html>
